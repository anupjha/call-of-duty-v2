var wr=Object.defineProperty;var Dr=(t,e,r)=>e in t?wr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Je=(t,e,r)=>(Dr(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var se,D,yt,Ue,J,qe,gt,Ee,bt,ie={},xt=[],Cr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Be=Array.isArray;function R(t,e){for(var r in e)t[r]=e[r];return t}function wt(t){var e=t.parentNode;e&&e.removeChild(t)}function ye(t,e,r){var n,i,o,a={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?se.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return te(t,a,n,i,null)}function te(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++yt,__i:-1,__u:0};return i==null&&D.vnode!=null&&D.vnode(o),o}function z(t){return t.children}function re(t,e){this.props=t,this.context=e}function Q(t,e){if(e==null)return t.__?Q(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Q(t):null}function Dt(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Dt(t)}}function Le(t){(!t.__d&&(t.__d=!0)&&J.push(t)&&!pe.__r++||qe!==D.debounceRendering)&&((qe=D.debounceRendering)||gt)(pe)}function pe(){var t,e,r,n,i,o,a,l,c;for(J.sort(Ee);t=J.shift();)t.__d&&(e=J.length,n=void 0,o=(i=(r=t).__v).__e,l=[],c=[],(a=r.__P)&&((n=R({},i)).__v=i.__v+1,D.vnode&&D.vnode(n),Pe(a,n,i,r.__n,a.ownerSVGElement!==void 0,32&i.__u?[o]:null,l,o??Q(i),!!(32&i.__u),c),n.__.__k[n.__i]=n,St(l,n,c),n.__e!=o&&Dt(n)),J.length>e&&J.sort(Ee));pe.__r=0}function Ct(t,e,r,n,i,o,a,l,c,u,h){var d,v,f,w,b,y=n&&n.__k||xt,k=e.length;for(r.__d=c,kr(r,e,y),c=r.__d,d=0;d<k;d++)(f=r.__k[d])!=null&&typeof f!="boolean"&&typeof f!="function"&&(v=f.__i===-1?ie:y[f.__i]||ie,f.__i=d,Pe(t,f,v,i,o,a,l,c,u,h),w=f.__e,f.ref&&v.ref!=f.ref&&(v.ref&&Ie(v.ref,null,f),h.push(f.ref,f.__c||w,f)),b==null&&w!=null&&(b=w),65536&f.__u||v.__k===f.__k?c=kt(f,c,t):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:w&&(c=w.nextSibling),f.__d=void 0,f.__u&=-196609);r.__d=c,r.__e=b}function kr(t,e,r){var n,i,o,a,l,c=e.length,u=r.length,h=u,d=0;for(t.__k=[],n=0;n<c;n++)(i=t.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?te(null,i,null,null,i):Be(i)?te(z,{children:i},null,null,null):i.__b>0?te(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,l=Sr(i,r,a=n+d,h),i.__i=l,o=null,l!==-1&&(h--,(o=r[l])&&(o.__u|=131072)),o==null||o.__v===null?(l==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):l!==a&&(l===a+1?d++:l>a?h>c-a?d+=l-a:d--:d=l<a&&l==a-1?l-a:0,l!==n+d&&(i.__u|=65536))):(o=r[n])&&o.key==null&&o.__e&&(o.__e==t.__d&&(t.__d=Q(o)),Te(o,o,!1),r[n]=null,h--);if(h)for(n=0;n<u;n++)(o=r[n])!=null&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=Q(o)),Te(o,o))}function kt(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=kt(n[i],e,r));return e}return t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function Sr(t,e,r,n){var i=t.key,o=t.type,a=r-1,l=r+1,c=e[r];if(c===null||c&&i==c.key&&o===c.type)return r;if(n>(c!=null&&!(131072&c.__u)?1:0))for(;a>=0||l<e.length;){if(a>=0){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&o===c.type)return a;a--}if(l<e.length){if((c=e[l])&&!(131072&c.__u)&&i==c.key&&o===c.type)return l;l++}}return-1}function Ye(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Cr.test(e)?r:r+"px"}function le(t,e,r,n,i){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Ye(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Ye(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,o?Qe:Ze,o)):t.removeEventListener(e,o?Qe:Ze,o);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Ze(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(D.event?D.event(t):t)}function Qe(t){return this.l[t.type+!0](D.event?D.event(t):t)}function Pe(t,e,r,n,i,o,a,l,c,u){var h,d,v,f,w,b,y,k,_,g,p,C,E,S,$,T=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),o=[l=e.__e=r.__e]),(h=D.__b)&&h(e);e:if(typeof T=="function")try{if(k=e.props,_=(h=T.contextType)&&n[h.__c],g=h?_?_.props.value:h.__:n,r.__c?y=(d=e.__c=r.__c).__=d.__E:("prototype"in T&&T.prototype.render?e.__c=d=new T(k,g):(e.__c=d=new re(k,g),d.constructor=T,d.render=Lr),_&&_.sub(d),d.props=k,d.state||(d.state={}),d.context=g,d.__n=n,v=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),T.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=R({},d.__s)),R(d.__s,T.getDerivedStateFromProps(k,d.__s))),f=d.props,w=d.state,d.__v=e,v)T.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(T.getDerivedStateFromProps==null&&k!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(k,g),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(k,d.__s,g)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(d.props=k,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(B){B&&(B.__=e)}),p=0;p<d._sb.length;p++)d.__h.push(d._sb[p]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(k,d.__s,g),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,w,b)})}if(d.context=g,d.props=k,d.__P=t,d.__e=!1,C=D.__r,E=0,"prototype"in T&&T.prototype.render){for(d.state=d.__s,d.__d=!1,C&&C(e),h=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do d.__d=!1,C&&C(e),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25);d.state=d.__s,d.getChildContext!=null&&(n=R(R({},n),d.getChildContext())),v||d.getSnapshotBeforeUpdate==null||(b=d.getSnapshotBeforeUpdate(f,w)),Ct(t,Be($=h!=null&&h.type===z&&h.key==null?h.props.children:h)?$:[$],e,r,n,i,o,a,l,c,u),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),y&&(d.__E=d.__=null)}catch(B){e.__v=null,c||o!=null?(e.__e=l,e.__u|=c?160:32,o[o.indexOf(l)]=null):(e.__e=r.__e,e.__k=r.__k),D.__e(B,e,r)}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Er(r.__e,e,r,n,i,o,a,c,u);(h=D.diffed)&&h(e)}function St(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)Ie(r[n],r[++n],r[++n]);D.__c&&D.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){D.__e(o,i.__v)}})}function Er(t,e,r,n,i,o,a,l,c){var u,h,d,v,f,w,b,y=r.props,k=e.props,_=e.type;if(_==="svg"&&(i=!0),o!=null){for(u=0;u<o.length;u++)if((f=o[u])&&"setAttribute"in f==!!_&&(_?f.localName===_:f.nodeType===3)){t=f,o[u]=null;break}}if(t==null){if(_===null)return document.createTextNode(k);t=i?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,k.is&&k),o=null,l=!1}if(_===null)y===k||l&&t.data===k||(t.data=k);else{if(o=o&&se.call(t.childNodes),y=r.props||ie,!l&&o!=null)for(y={},u=0;u<t.attributes.length;u++)y[(f=t.attributes[u]).name]=f.value;for(u in y)f=y[u],u=="children"||(u=="dangerouslySetInnerHTML"?d=f:u==="key"||u in k||le(t,u,null,f,i));for(u in k)f=k[u],u=="children"?v=f:u=="dangerouslySetInnerHTML"?h=f:u=="value"?w=f:u=="checked"?b=f:u==="key"||l&&typeof f!="function"||y[u]===f||le(t,u,f,y[u],i);if(h)l||d&&(h.__html===d.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(d&&(t.innerHTML=""),Ct(t,Be(v)?v:[v],e,r,n,i&&_!=="foreignObject",o,a,o?o[0]:r.__k&&Q(r,0),l,c),o!=null)for(u=o.length;u--;)o[u]!=null&&wt(o[u]);l||(u="value",w!==void 0&&(w!==t[u]||_==="progress"&&!w||_==="option"&&w!==y[u])&&le(t,u,w,y[u],!1),u="checked",b!==void 0&&b!==t[u]&&le(t,u,b,y[u],!1))}return t}function Ie(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){D.__e(n,r)}}function Te(t,e,r){var n,i;if(D.unmount&&D.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ie(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){D.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Te(n[i],e,r||typeof t.type!="function");r||t.__e==null||wt(t.__e),t.__=t.__e=t.__d=void 0}function Lr(t,e,r){return this.constructor(t,r)}function Tr(t,e,r){var n,i,o,a;D.__&&D.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],a=[],Pe(e,t=(!n&&r||e).__k=ye(z,null,[t]),i||ie,ie,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?se.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n,a),St(o,t,a)}function $r(t,e,r){var n,i,o,a,l=R({},t.props);for(o in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)o=="key"?n=e[o]:o=="ref"?i=e[o]:l[o]=e[o]===void 0&&a!==void 0?a[o]:e[o];return arguments.length>2&&(l.children=arguments.length>3?se.call(arguments,2):r),te(t.type,l,n||t.key,i||t.ref,null)}function Et(t,e){var r={__c:e="__cC"+bt++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(l){l.__e=!0,Le(l)})},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}se=xt.slice,D={__e:function(t,e,r,n){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(l){t=l}throw t}},yt=0,Ue=function(t){return t!=null&&t.constructor==null},re.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof t=="function"&&(t=t(R({},r),this.props)),t&&R(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Le(this))},re.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Le(this))},re.prototype.render=z,J=[],gt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ee=function(t,e){return t.__v.__b-e.__v.__b},pe.__r=0,bt=0;var q,N,De,Xe,_e=0,Lt=[],he=[],et=D.__b,tt=D.__r,rt=D.diffed,nt=D.__c,it=D.unmount;function ae(t,e){D.__h&&D.__h(N,t,_e||e),_e=0;var r=N.__H||(N.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:he}),r.__[t]}function A(t){return _e=1,Nr($t,t)}function Nr(t,e,r){var n=ae(q++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):$t(void 0,e),function(l){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,l);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=N,!N.u)){var i=function(l,c,u){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(v){return v.__c});if(h.every(function(v){return!v.__N}))return!o||o.call(this,l,c,u);var d=!1;return h.forEach(function(v){if(v.__N){var f=v.__[0];v.__=v.__N,v.__N=void 0,f!==v.__[0]&&(d=!0)}}),!(!d&&n.__c.props===l)&&(!o||o.call(this,l,c,u))};N.u=!0;var o=N.shouldComponentUpdate,a=N.componentWillUpdate;N.componentWillUpdate=function(l,c,u){if(this.__e){var h=o;o=void 0,i(l,c,u),o=h}a&&a.call(this,l,c,u)},N.shouldComponentUpdate=i}return n.__N||n.__}function j(t,e){var r=ae(q++,3);!D.__s&&He(r.__H,e)&&(r.__=t,r.i=e,N.__H.__h.push(r))}function Tt(t,e){var r=ae(q++,4);!D.__s&&He(r.__H,e)&&(r.__=t,r.i=e,N.__h.push(r))}function M(t){return _e=5,Fe(function(){return{current:t}},[])}function Fe(t,e){var r=ae(q++,7);return He(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Or(t){var e=N.context[t.__c],r=ae(q++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(N)),e.props.value):t.__}function Ar(){for(var t;t=Lt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(fe),t.__H.__h.forEach($e),t.__H.__h=[]}catch(e){t.__H.__h=[],D.__e(e,t.__v)}}D.__b=function(t){N=null,et&&et(t)},D.__r=function(t){tt&&tt(t),q=0;var e=(N=t.__c).__H;e&&(De===N?(e.__h=[],N.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=he,r.__N=r.i=void 0})):(e.__h.forEach(fe),e.__h.forEach($e),e.__h=[],q=0)),De=N},D.diffed=function(t){rt&&rt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Lt.push(e)!==1&&Xe===D.requestAnimationFrame||((Xe=D.requestAnimationFrame)||Ur)(Ar)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==he&&(r.__=r.__V),r.i=void 0,r.__V=he})),De=N=null},D.__c=function(t,e){e.some(function(r){try{r.__h.forEach(fe),r.__h=r.__h.filter(function(n){return!n.__||$e(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],D.__e(n,r.__v)}}),nt&&nt(t,e)},D.unmount=function(t){it&&it(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{fe(n)}catch(i){e=i}}),r.__H=void 0,e&&D.__e(e,r.__v))};var ot=typeof requestAnimationFrame=="function";function Ur(t){var e,r=function(){clearTimeout(n),ot&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);ot&&(e=requestAnimationFrame(r))}function fe(t){var e=N,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),N=e}function $e(t){var e=N;t.__c=t.__(),N=e}function He(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function $t(t,e){return typeof e=="function"?e(t):e}const Br=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ce(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function Pr(t,e,r){r&&!Br&&(e=r);const n=e(),[{_instance:i},o]=A({_instance:{_value:n,_getSnapshot:e}});return Tt(()=>{i._value=n,i._getSnapshot=e,Ce(i._value,e())||o({_instance:i})},[t,n,e]),j(()=>(Ce(i._value,i._getSnapshot())||o({_instance:i}),t(()=>{Ce(i._value,i._getSnapshot())||o({_instance:i})})),[t]),n}const Nt=t=>{const e=M([t,(...r)=>e[0](...r)]).current;return Tt(()=>{e[0]=t}),e[1]},Ir=(t="",e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Fr=(t,e="")=>t[0]==="~"?t.slice(1):e+t,Hr="popstate",Me="pushState",Re="replaceState",Mr="hashchange",st=[Hr,Me,Re,Mr],Rr=t=>{for(const e of st)addEventListener(e,t);return()=>{for(const e of st)removeEventListener(e,t)}},jr=(t,e)=>Pr(Rr,t,e),at=()=>location.pathname,zr=({ssrPath:t}={})=>jr(at,t?()=>t:at),Ot=(t,{replace:e=!1}={})=>history[e?Re:Me](null,"",t),Vr=(t={})=>[Ir(t.base,zr(t)),Nt((e,r)=>Ot(Fr(e,t.base),r))];if(typeof history<"u")for(const t of[Me,Re]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}function Wr(t=Gr){let e={};const r=n=>e[n]||(e[n]=t(n));return(n,i)=>{const{regexp:o,keys:a}=r(n||""),l=o.exec(i);return l?[!0,a.reduce((u,h,d)=>(u[h.name]=l[d+1],u),{})]:[!1,null]}}const dt=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Kr=(t,e,r)=>{let n=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&r&&(n="(?:\\/"+n+")"),n+(e?"?":"")},Gr=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let r=null,n=0,i=[],o="";for(;(r=e.exec(t))!==null;){const[a,l,c]=r,u=c==="+"||c==="*",h=c==="?"||c==="*",d=h&&t[r.index-1]==="/"?1:0,v=t.substring(n,r.index-d);i.push({name:l}),n=e.lastIndex,o+=dt(v)+Kr(u,h,d)}return o+=dt(t.substring(n)),{keys:i,regexp:new RegExp("^"+o+"(?:\\/)?$","i")}},Jr={hook:Vr,matcher:Wr(),base:""},qr=Et(Jr),je=()=>Or(qr),ze=t=>t.hook(t),At=()=>ze(je()),Yr=t=>{const e=je(),[r]=ze(e);return e.matcher(t,r)},Zr=Et({params:{}}),lt=(t,e)=>ye(Zr.Provider,{value:{params:t},children:e}),G=({path:t,match:e,component:r,children:n})=>{const i=Yr(t),[o,a]=e||i;return o?r?lt(a,ye(r,{params:a})):lt(a,typeof n=="function"?n(a):n):null},Ne=(t,e)=>{const r=je(),[,n]=ze(r),{to:i,href:o=i,children:a,onClick:l}=t,c=Nt(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(l&&l(d),d.defaultPrevented||(d.preventDefault(),n(i||o,t)))}),u={href:o[0]==="~"?o.slice(1):r.base+o,onClick:c,to:null,ref:e},h=Ue(a)?a:ye("a",t);return $r(h,u)};let ce;const Qr=new Uint8Array(16);function Xr(){if(!ce&&(ce=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ce))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ce(Qr)}const P=[];for(let t=0;t<256;++t)P.push((t+256).toString(16).slice(1));function en(t,e=0){return P[t[e+0]]+P[t[e+1]]+P[t[e+2]]+P[t[e+3]]+"-"+P[t[e+4]]+P[t[e+5]]+"-"+P[t[e+6]]+P[t[e+7]]+"-"+P[t[e+8]]+P[t[e+9]]+"-"+P[t[e+10]]+P[t[e+11]]+P[t[e+12]]+P[t[e+13]]+P[t[e+14]]+P[t[e+15]]}const tn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ct={randomUUID:tn};function F(t,e,r){if(ct.randomUUID&&!e&&!t)return ct.randomUUID();t=t||{};const n=t.random||(t.rng||Xr)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return en(n)}const rn=t=>({boards:t.boards.map(r=>{const n=r.lists.map(i=>{const o=i.cards.map(a=>{const l=new Date().toISOString();return a.description||(a.description=""),a.createdAt||(a.createdAt=l),a.updatedAt||(a.updatedAt=l),a});return{...i,cards:o}});return{...r,lists:n}})});class ge{constructor(e){Je(this,"repository");this.repository=e}clear(){return this.repository.remove(),{boards:[]}}load(){const e=this.repository.get();return rn(e)}import(e,r){const n={boards:[...r.boards,...e.boards]};return this.repository.set(n),n}createBoard(e,r){const i={boards:[{id:F(),name:r,lists:[]},...e.boards]};return this.repository.set(i),i}deleteBoard(e,r){const n={boards:[...e.boards.filter(i=>i.id!==r)]};return this.repository.set(n),n}moveBoard(e,r,n,i){const o=e.boards.find(a=>a.id===r);if(o)switch(n){case"first":const a={boards:[o,...e.boards.filter(d=>d.id!==r)]};return this.repository.set(a),a;case"middle":const l=e.boards.findIndex(d=>d.id===r),c=e.boards.findIndex(d=>d.id===i),u=e.boards.find(d=>d.id===r);if(u){const d={boards:e.boards.filter(b=>b.id!==r)},v=d.boards.findIndex(b=>b.id===i),f=l<c?v+1:c<l?v:0,w={boards:[...d.boards.slice(0,f),u,...d.boards.slice(f)]};return this.repository.set(w),w}else throw Error("moveBoard failed");case"last":const h={boards:[...e.boards.filter(d=>d.id!==r),o]};return this.repository.set(h),h}return e}updateBoardName(e,r,n){const i={boards:e.boards.map(o=>o.id===n?{...o,name:r}:o)};return this.repository.set(i),i}createList(e,r,n){const i={id:F(),name:r,cards:[]},o={boards:e.boards.map(a=>a.id===n?{...a,lists:[...a.lists,i]}:a)};return this.repository.set(o),o}deleteList(e,r,n){const i={boards:e.boards.map(o=>o.id===n?{...o,lists:o.lists.filter(a=>a.id!==r)}:o)};return this.repository.set(i),i}findList(e,r,n){var i;return(i=e.boards.find(o=>o.id===n))==null?void 0:i.lists.find(o=>o.id===r)}moveList(e,r,n,i,o){const a=e.boards.find(l=>l.id===n);if(a){const l=a.lists.findIndex(d=>d.id===r),c=a.lists.findIndex(d=>d.id===i),u=a.lists.find(d=>d.id===r),h=a.lists.filter(d=>d.id!==r);if(u)switch(o){case"first":const d=[u,...h],v={boards:e.boards.map(g=>g.id===n?{...g,lists:d}:g)};return this.repository.set(v),v;case"middle":const f=h.findIndex(g=>g.id===i),w=l<c?f+1:c<l?f:0,b=[...h.slice(0,w),u,...h.slice(w)],y={boards:e.boards.map(g=>g.id===n?{...g,lists:b}:g)};return this.repository.set(y),y;case"last":const k=[...h,u],_={boards:e.boards.map(g=>g.id===n?{...g,lists:k}:g)};return this.repository.set(_),_}}return e}updateListName(e,r,n,i){const o={boards:e.boards.map(a=>a.id===n?{...a,lists:a.lists.map(l=>l.id===i?{...l,name:r}:l)}:a)};return this.repository.set(o),o}createCard(e,r,n,i){const o=new Date,a={id:F(),name:r,description:"",createdAt:o.toISOString(),updatedAt:o.toISOString()},l=e.boards.find(c=>c.id===n);if(l){const c=l.lists.map(h=>h.id===i?{...h,cards:[...h.cards,a]}:h),u={boards:e.boards.map(h=>h.id===n?{...h,lists:c}:h)};return this.repository.set(u),u}return e}deleteCard(e,r,n,i){const o=e.boards.find(a=>a.id===n);if(o){const a=o.lists.map(c=>c.id===i?{...c,cards:c.cards.filter(u=>u.id!==r)}:c),l={boards:e.boards.map(c=>c.id===n?{...c,lists:a}:c)};return this.repository.set(l),l}return e}deleteCardsByList(e,r,n){const i=e.boards.find(o=>o.id===n);if(i){const o=i.lists.map(l=>l.id===r?{...l,cards:[]}:l),a={boards:e.boards.map(l=>l.id===n?{...l,lists:o}:l)};return this.repository.set(a),a}return e}moveCard(e,r,n,i,o,a,l,c){const u=this.findCard(e,r,n,i),h=this.findList(e,i,n),d=this.findList(e,c,l);if(u&&h&&d){const v=h.cards.findIndex(y=>y.id===r),f=d.cards.findIndex(y=>y.id===a),w=this.deleteCard(e,r,n,i),b=w.boards.find(y=>y.id===l);if(b)switch(o){case"first":const y=b.lists.map(_=>_.id===c?{..._,cards:[u,..._.cards]}:_),k={boards:w.boards.map(_=>_.id===l?{..._,lists:y}:_)};return this.repository.set(k),k;case"middle":if(i===c){if(f){const _=b.lists.find(g=>g.id===c);if(_){const g=_.cards.findIndex(E=>E.id===a),p=v<f?g+1:f<v?g:0,C={boards:w.boards.map(E=>E.id===l?{...E,lists:E.lists.map(S=>S.id===c?{...S,cards:[...S.cards.slice(0,p),u,...S.cards.slice(p)]}:S)}:E)};return this.repository.set(C),C}}}else{const _={boards:w.boards.map(g=>g.id===l?{...g,lists:g.lists.map(p=>p.id===c?{...p,cards:[...p.cards.slice(0,f),u,...p.cards.slice(f)]}:p)}:g)};return this.repository.set(_),_}break;case"last":if(i===c){const _=b.lists.map(p=>p.id===c?{...p,cards:[...p.cards,u]}:p),g={boards:w.boards.map(p=>p.id===l?{...p,lists:_}:p)};return this.repository.set(g),g}else{const _={boards:w.boards.map(g=>g.id===l?{...g,lists:g.lists.map(p=>p.id===c?{...p,cards:[...p.cards.slice(0,f),u,...p.cards.slice(f)]}:p)}:g)};return this.repository.set(_),_}}}return e}findCard(e,r,n,i){var o,a;return(a=(o=e.boards.find(l=>l.id===n))==null?void 0:o.lists.find(l=>l.id===i))==null?void 0:a.cards.find(l=>l.id===r)}findCardFromBoard(e,r,n){var i;return(i=e.boards.find(o=>o.id===n))==null?void 0:i.lists.map(o=>o.cards.find(a=>a.id===r)).filter(o=>o)[0]}findCardListIdFromBoard(e,r,n){let i;return e.boards.map(o=>{o.id===n&&o.lists.map(a=>{a.cards.find(c=>c.id===r)&&(i=a.id)})}),i}moveCardToAnotherList(e,r,n,i,o){const a=this.findCard(e,r,n,i);if(a&&i!==o){const c={boards:this.deleteCard(e,r,n,i).boards.map(u=>u.id===n?{...u,lists:u.lists.map(h=>h.id===o?{...h,cards:[a,...h.cards]}:h)}:u)};return this.repository.set(c),c}return e}moveCardToLastOfAnotherList(e,r,n,i,o){const a=this.findCard(e,r,n,i);if(a&&i!==o){const c={boards:this.deleteCard(e,r,n,i).boards.map(u=>u.id===n?{...u,lists:u.lists.map(h=>h.id===o?{...h,cards:[...h.cards,a]}:h)}:u)};return this.repository.set(c),c}return e}updateCardName(e,r,n,i,o){const a=new Date,l={boards:e.boards.map(c=>c.id===i?{...c,lists:c.lists.map(u=>u.id===o?{...u,cards:u.cards.map(h=>h.id===r?{...h,name:n,updatedAt:a.toISOString()}:h)}:u)}:c)};return this.repository.set(l),l}updateCardDescription(e,r,n,i,o){const a=new Date,l={boards:e.boards.map(c=>c.id===i?{...c,lists:c.lists.map(u=>u.id===o?{...u,cards:u.cards.map(h=>h.id===r?{...h,description:n,updatedAt:a.toISOString()}:h)}:u)}:c)};return this.repository.set(l),l}}const ke="boards";class be{set(e){localStorage.setItem(ke,JSON.stringify(e))}get(){const e=localStorage.getItem(ke);return e?JSON.parse(e):{boards:[]}}remove(){localStorage.removeItem(ke)}}var nn=0;function s(t,e,r,n,i,o){var a,l,c={};for(l in e)l=="ref"?a=e[l]:c[l]=e[l];var u={type:t,props:c,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--nn,__i:-1,__u:0,__source:i,__self:o};if(typeof t=="function"&&(a=t.defaultProps))for(l in a)c[l]===void 0&&(c[l]=a[l]);return D.vnode&&D.vnode(u),u}function Ut({board:t,pos:e,cardsNum:r,handleDragEnd:n,handleDragOver:i,handleDragStart:o,handleDrop:a}){return s("div",{class:"flex-column h-20 bg-primary parent-hiding-child border-solid border-2 border-color-primary hover-bg-board-item",draggable:!0,onDragEnd:n,onDragOver:i,onDragStart:o,onDrop:a,"data-board-id":t.id,"data-pos":e,children:s(Ne,{class:"p-4 cursor-pointer flex-column layout-stack-2 text-decoration-none text-primary",href:`/board/${t.id}`,draggable:!1,children:[s("div",{class:"h-6 flex-row",children:[s("div",{class:"f-1",children:t.name}),s("div",{class:"text-secondary font-mono px-1",children:r})]}),s("div",{class:"h-4"})]})})}function Bt({boards:t,handleDragEnd:e,handleDragOver:r,handleDragStart:n,handleDrop:i}){return s("div",{class:"layout-stack-2 overflow-y-auto pattern-height-board-list py-2 pr-2 pattern-scrollbar-thick",children:t.map((o,a)=>s(Ut,{board:o,pos:a===0?"first":a===t.length-1?"last":"middle",cardsNum:o.lists.map(l=>l.cards.length).reduce((l,c)=>l+c,0),handleDragEnd:e,handleDragOver:r,handleDragStart:n,handleDrop:i},o.id))})}function on({open:t,handleClickMask:e,addBoard:r}){const n=M(null),i=o=>{o.preventDefault(),n.current&&n.current.value!==""&&(r(n.current.value),n.current.value="",e())};return j(()=>{var o;t&&((o=n.current)==null||o.focus())},[t]),t?s(z,{children:[s("div",{class:"pattern-mask",onClick:e}),s("dialog",{open:t,class:"layout-center p-6 border-solid border-1 border-color-primary bg-primary w-full",children:s("form",{onSubmit:i,class:"layout-stack-4",children:[s("label",{class:"flex-column layout-stack-1",children:[s("span",{class:"text-secondary text-small",children:"Board title"}),s("input",{class:"h-8 w-64 px-2 border-solid border-1 border-color-primary",type:"text",maxLength:24,ref:n})]}),s("div",{class:"",children:s("button",{class:"h-6 px-4 border-solid border-1 border-color-primary cursor-pointer bg-transparent",children:"Create"})})]})})]}):s(z,{})}function sn({appState:t}){const[e,r]=A(void 0),[n,i]=A(!1),o=M(null),a=new be,l=new ge(a),c=M(null),u=C=>{t.value=l.createBoard(t.value,C)},h=()=>{var C;if(c.current&&c.current.files){const E=(C=c.current)==null?void 0:C.files[0],S=new FileReader;S.addEventListener("load",()=>{if(typeof S.result=="string"){const $=JSON.parse(S.result),T=$.boards.map(K=>K.id),B=t.value.boards.map(K=>K.id);T.every(K=>!B.includes(K))?t.value=l.import(t.value,$):console.log("Duplication error.")}},!1),S.readAsText(E)}},d=()=>{var C;window.confirm("Do you really want to clear data?")&&(t.value=l.clear(),(C=o.current)==null||C.removeAttribute("open"))},v=()=>r(void 0),f=C=>C.preventDefault(),w=C=>{C.dataTransfer&&(C.dataTransfer.effectAllowed="move");const{boardId:E}=C.currentTarget.dataset;E&&setTimeout(()=>{r(E)},100)},b=C=>{const{boardId:E,pos:S}=C.currentTarget.dataset;E&&S&&e&&(t.value=l.moveBoard(t.value,e,S,E))},y=52e5,_=localStorage.data?new Blob(Object.values(localStorage.data)).size:0,g=()=>{i(!0)},p=()=>{i(!1)};return s("div",{class:"px-3",children:s("div",{class:"layout-center overflow-hidden w-full layout-stack-8",children:s("div",{class:"overflow-hidden",children:[s("div",{class:"layout-stack-2",children:s("div",{class:"flex-row h-10 py-3",children:[s("h2",{class:"text-medium text-primary f-1 m-0",children:"Boards"}),s("div",{class:"flex-row layout-stack-horizontal-1",children:[s("button",{class:"w-6 h-6 border-1 border-solid border-color-primary bg-transparent cursor-pointer hover",type:"button",onClick:g,children:"+"}),s("details",{class:"pattern-dropdown",children:[s("summary",{class:"w-6 h-6 border-solid border-1 border-color-primary flex-column cursor-pointer hover",children:s("div",{class:"m-auto text-secondary",children:"..."})}),s("div",{class:"border-solid border-1 border-color-primary py-2 bg-primary drop-shadow",children:s("ul",{class:"list-style-none p-0 m-0 text-secondary",children:[s("li",{class:"h-8",children:s("button",{class:"w-full text-left px-4 py-2 cursor-pointer border-none bg-primary hover nowrap text-primary",type:"button",onClick:d,children:"Delete boards"})}),s("li",{class:"h-8",children:s("a",{class:"px-4 py-2 text-primary cursor-pointer text-small text-decoration-none block hover",download:"data.json",href:"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t.value)),children:"Export"})}),s("li",{class:"h-8",children:s("label",{children:[s("span",{class:"px-4 py-2 text-primary cursor-pointer text-small block hover",children:"Import"}),s("input",{class:"pattern-file display-none",type:"file",accept:".json",ref:c,onChange:h})]})})]})})]})]})]})}),s("div",{children:s(on,{open:n,handleClickMask:p,addBoard:u})}),s("div",{class:"overflow-y-auto",children:s(Bt,{boards:t.value.boards,handleDragEnd:v,handleDragOver:f,handleDragStart:w,handleDrop:b})}),s("div",{children:[s("h2",{class:"text-medium",children:"Storage"}),_>=0&&s("div",{class:"py-2",children:[s("span",{class:"text-secondary font-mono",children:[_," / ",y," bytes used on localStorage"]}),s("progress",{max:y,value:_,class:"pattern-progress w-full h-4"})]})]})]})})})}const Pt=2,ut=t=>{const{depth:e,node:r,parentId:n,isDragStarted:i,handleToggleCheck:o,handleDelete:a,handleDragEnd:l,handleDragEnter:c,handleDragLeave:u,handleDragOver:h,handleDragStart:d,handleDrop:v,handleToggleOpen:f}=t;return s("div",{class:"flex-row",children:[s("div",{style:{width:`${e*Pt}rem`}}),s("div",{class:"bg-primary h-8 border-1 border-solid border-color-primary hover-primary f-1 flex-row",draggable:!0,onDragEnd:l,onDragEnter:c,onDragLeave:u,onDragOver:h,onDragStart:d,onDrop:v,"data-drop-target-type":"node","data-node-id":r.id,"data-parent-id":n,children:s("div",{class:`f-1 flex-row ${i?"pointer-events-none":""}`,children:[r.children.length!==0&&s("div",{class:"flex-column text-secondary",children:s("button",{class:`text-secondary bg-transparent border-none h-8 w-8 ${r.isOpen?"rotate-90":""}`,onClick:f,"data-node-id":r.id,children:"▶︎"})}),s("div",{class:"w-8 flex-column",children:s("input",{class:"m-auto",type:"checkbox",checked:r.isCompleted,onClick:o,"data-node-id":r.id})}),s("div",{class:"f-1 flex-column",children:s("span",{class:"my-auto",children:r.name})}),s("div",{class:"flex-column mr-2",children:s("button",{class:"m-auto bg-transparent border-solid border-1",onClick:a,"data-node-id":r.id,children:"x"})})]})})]})},ht=t=>{const{depth:e,node:r,parentId:n,position:i,isDragStarted:o,handleDragEnter:a,handleDragLeave:l,handleDragOver:c,handleDrop:u}=t;return s("div",{class:"flex-row",children:[s("div",{style:{width:`${e*Pt}rem`}}),s("div",{class:"f-1 w-full py-2",onDragEnter:a,onDragLeave:l,onDragOver:c,onDrop:u,"data-drop-target-type":"spacer","data-first":i==="first"||null,"data-last":i==="last"||null,"data-next-id":r?r.id:null,"data-parent-id":n,children:s("div",{class:`border-solid border-spacer border-color-primary ${o?"pointer-events-none":""}`})})]})},an=t=>{const{depth:e,rootId:r,treeNodes:n,isDragStarted:i,handleDelete:o,handleDragEnd:a,handleDragEnter:l,handleDragLeave:c,handleDragOver:u,handleDragStart:h,handleDrop:d,handleToggleCheck:v,handleToggleOpen:f}=t,w=(b,y=0,k)=>b.map((_,g,p)=>s("div",{children:[s("li",{children:s(ht,{depth:y,node:_,parentId:k,position:g===0?"first":"theOthers",isDragStarted:i,handleDragEnter:l,handleDragLeave:c,handleDragOver:u,handleDrop:d})},`spacer-above-${_.id}`),s("li",{children:_.children.length===0?s(ut,{depth:y,node:_,parentId:k,isDragStarted:i,handleDelete:o,handleDragEnd:a,handleDragEnter:l,handleDragLeave:c,handleDragOver:u,handleDragStart:h,handleDrop:d,handleToggleCheck:v,handleToggleOpen:f}):s("div",{children:[s("div",{children:s(ut,{depth:y,node:_,parentId:k,isDragStarted:i,handleDelete:o,handleDragEnd:a,handleDragEnter:l,handleDragLeave:c,handleDragOver:u,handleDragStart:h,handleDrop:d,handleToggleCheck:v,handleToggleOpen:f})}),_.isOpen&&s("ul",{class:"list-style-none pl-0 m-0",children:w(_.children,y+1,_.id)})]})},`node-${_.id}`),g===p.length-1&&s("li",{children:s(ht,{depth:y,node:null,parentId:k,position:"last",isDragStarted:i,handleDragEnter:l,handleDragLeave:c,handleDragOver:u,handleDrop:d})},`spacer-below-${_.id}`)]}));return s("ul",{class:"list-style-none pl-0 m-0",children:w(n,e,r)})},dn=(t,e,r)=>{const n=V(t,r);return!!(n&&V(n,e))},ln=(t,e)=>({...t,children:[e,...t.children]}),xe=(t,e)=>{const r=n=>{if(n.children.length>=1){const i=n.children.findIndex(o=>o.id===e);i>=0?n.children.splice(i,1):n.children.map(o=>r(o))}};return r(t),t},V=(t,e)=>{const r=n=>{if(t.id===e)return n;if(n.children.length>=1){const i=n.children.find(o=>o.id===e);if(i)return i;for(const o of n.children){const a=r(o);if(a)return a}}else return};return r(t)},ft=(t,e,r)=>{const n=V(t,e),i=V(t,r);return n&&i&&(xe(t,n.id),i.children.splice(0,0,n)),t},cn=(t,e,r)=>{const n=V(t,e),i=V(t,r);return n&&i&&(xe(t,n.id),i.children.push(n)),t},un=(t,e,r,n)=>{const i=V(t,e),o=V(t,r);if(i&&o){xe(t,i.id);const a=o.children.findIndex(l=>l.id===n);o.children.splice(a,0,i)}return t},hn=(t,e)=>{const r=n=>{if(n.children.length>=1){const i=n.children.findIndex(o=>o.id===e);i>=0?n.children.splice(i,1,{...n.children[i],isCompleted:!n.children[i].isCompleted}):n.children.map(o=>r(o))}};return r(t),t},fn=(t,e)=>{const r=n=>{if(n.children.length>=1){const i=n.children.findIndex(o=>o.id===e);i>=0?n.children.splice(i,1,{...n.children[i],isOpen:!n.children[i].isOpen}):n.children.map(o=>r(o))}};return r(t),t},pt="todos";function pn(){const[t,e]=A(null),[r,n]=A(""),[i,o]=A({id:"root",name:"",isCompleted:!1,isOpen:!0,children:[]});j(()=>{const p=localStorage.getItem(pt);p&&o(JSON.parse(p))},[]),j(()=>{localStorage.setItem(pt,JSON.stringify(i))},[i]);const a=(p,C,E)=>!dn(p,E,C),l=p=>{n(p.currentTarget.value)},c=p=>{p.preventDefault();const E={id:Math.floor(Math.random()*1e4).toString(),name:r,isCompleted:!1,isOpen:!0,children:[]};o({...ln(i,E)}),n("")},u=()=>{o({...i,children:[]})},h=p=>{const C=p.currentTarget.dataset.nodeId;C&&confirm("Do you really want to delete it?")&&o({...xe(i,C)})},d=()=>{e(null)},v=p=>{const{first:C,last:E,parentId:S,nextId:$,nodeId:T,dropTargetType:B}=p.currentTarget.dataset;t&&S&&(B==="node"?a(i,t,S)?p.currentTarget.classList.add("droppable-node"):p.currentTarget.classList.add("undroppable-node"):B==="spacer"&&(a(i,t,S)?p.currentTarget.classList.add("droppable-spacer"):p.currentTarget.classList.add("undroppable-spacer")))},f=p=>{y(p.currentTarget)},w=p=>{p.preventDefault()},b=p=>{e(p.currentTarget.dataset.nodeId||null)},y=p=>{p.classList.remove("droppable-node"),p.classList.remove("undroppable-node"),p.classList.remove("droppable-spacer"),p.classList.remove("undroppable-spacer")},k=p=>{const{first:C,last:E,parentId:S,nextId:$,dropTargetType:T,nodeId:B}=p.currentTarget.dataset;t&&S&&(T==="node"&&B&&a(i,t,B)?o({...ft(i,t,B)}):T==="spacer"&&(C&&a(i,t,S)?o({...ft(i,t,S)}):E&&a(i,t,S)?o({...cn(i,t,S)}):$&&a(i,t,$)&&o({...un(i,t,S,$)}))),y(p.currentTarget)},_=p=>{const C=p.currentTarget.dataset.nodeId;C&&o({...hn(i,C)})},g=p=>{const C=p.currentTarget.dataset.nodeId;C&&o({...fn(i,C)})};return s("div",{class:"flex-column",style:"min-height: 100vh;",children:[s("div",{class:"f-1",children:s("div",{class:"layout-center",children:s("div",{class:"layout-stack-8",children:[s("div",{class:"text-right",children:s("button",{onClick:u,children:"Clear"})}),s("form",{class:"",type:"submit",onSubmit:c,children:s("input",{class:"h-8 w-full border-1 border-solid border-color-primary",type:"text",onInput:l,value:r,placeholder:"Add a task"})}),s(an,{depth:0,treeNodes:i.children,rootId:i.id,isDragStarted:!!t,handleDelete:h,handleDragEnd:d,handleDragEnter:v,handleDragLeave:f,handleDragOver:w,handleDragStart:b,handleDrop:k,handleToggleCheck:_,handleToggleOpen:g})]})})}),s("div",{class:"text-center h-6 text-secondary text-small",children:s("a",{href:"https://github.com/sakihet/dnd-tree-todo",children:"GitHub"})})]})}function It({listId:t,addCard:e}){const[r,n]=A(!1),[i,o]=A(!1),a=M(null);return j(()=>{var v;r&&((v=a.current)==null||v.focus())},[r]),s("button",{class:"h-8 w-full border-none text-left cursor-pointer bg-primary",onClick:()=>{n(!0)},children:r?s("textarea",{class:"w-full border-none rounded-1 p-2 resize-none text-medium font-sans-serif",onBlur:()=>{n(!1)},oncompositionstart:()=>{o(!0)},oncompositionend:()=>{o(!1)},onKeyDown:v=>{var f,w;v.key==="Enter"&&!i&&(v.preventDefault(),(f=a.current)!=null&&f.value&&(e({listId:t,cardName:(w=a.current)==null?void 0:w.value}),a.current.value=""))},ref:a}):s("div",{class:"px-2",children:"+ Add a card"})})}function Oe({id:t,name:e,updateBoardName:r,deleteBoard:n}){const[i,o]=A(!1),a=M(null),l=()=>{o(!1)},c=()=>{o(!0),setTimeout(()=>{var d;(d=a.current)==null||d.focus()},100)},u=()=>{n(t),Ot("/")};return s("div",{class:"flex-row h-12 py-3",children:[s("h2",{class:"f-1 text-medium m-0",onClick:c,children:i?s("form",{onSubmit:d=>{var v;d.preventDefault(),(v=a.current)!=null&&v.value&&r(t,a.current.value),o(!1)},children:s("input",{class:"h-6 w-64 text-medium",type:"text",value:e,onBlur:l,ref:a})}):s("div",{children:e})}),s("div",{class:"w-6 h-6",children:s("details",{class:"pattern-dropdown",children:[s("summary",{class:"w-6 h-6 border-solid border-1 border-color-primary flex-column cursor-pointer",children:s("div",{class:"m-auto text-secondary",children:"..."})}),s("div",{class:"border-solid border-1 border-color-primary py-2 bg-primary drop-shadow",children:s("ul",{class:"list-style-none p-0 m-0 text-secondary",children:s("li",{class:"h-8",children:s("button",{class:"px-4 py-2 cursor-pointer border-none bg-primary hover",type:"button",onClick:u,children:"Delete"})})})})]})})]})}function Ft({id:t,name:e,cardsNum:r,updateListName:n,handleClickDeleteList:i,handleClickDeleteCards:o}){const[a,l]=A(!1),c=M(null);return s("div",{class:"flex-row h-6 cursor-grab",children:[s("div",{class:"f-1 overflow-hidden",children:a?s("form",{onSubmit:v=>{var f;v.preventDefault(),(f=c.current)!=null&&f.value&&n(t,c.current.value),l(!1)},children:s("input",{class:"h-6 px-1 w-full",type:"text",onBlur:()=>{l(!1)},value:e,ref:c})}):s("div",{class:"flex-row",children:[s("div",{class:"f-1 nowrap overflow-x-hidden text-overflow-ellipsis",onClick:()=>{l(!0),setTimeout(()=>{var v;(v=c.current)==null||v.focus()},100)},children:e}),s("div",{class:"px-2 text-secondary font-mono",children:r})]})}),s("div",{class:"w-6",children:s("details",{class:"pattern-dropdown",children:[s("summary",{class:"w-6 h-6 flex-column cursor-pointer hover",children:s("div",{class:"m-auto text-secondary",children:"..."})}),s("div",{class:"py-2 border-solid border-1 border-color-primary bg-primary drop-shadow",children:s("ul",{class:"list-style-none p-0 m-0 text-secondary",children:[s("li",{class:"h-8",children:s("button",{class:"px-4 py-2 cursor-pointer border-none bg-primary hover nowrap w-full text-left text-small",type:"button","data-list-id":t,onClick:o,children:"Delete all cards in this list"})}),s("li",{class:"h-8",children:s("button",{class:"px-4 py-2 cursor-pointer border-none bg-primary hover nowrap w-full text-left text-small",type:"button","data-list-id":t,onClick:i,children:"Delete this list"})})]})})]})})]})}function Ht({id:t,listId:e,name:r,pos:n,hasDescription:i,deleteCard:o,updateCardName:a,handleDragEnd:l,handleDragStart:c,handleDrop:u}){const[h,d]=A(!1),[v,f]=A(!1),w=M(null),[b,y]=At();j(()=>{var $;h&&(($=w.current)==null||$.focus())},[h]);const k=()=>{d(!1)},_=()=>{d(!0)},g=()=>{y(`${b}/card/${t}`)},p=()=>{f(!0)},C=()=>{f(!1)},E=$=>{var T,B,U;$.key==="Enter"&&!v&&($.preventDefault(),(T=w.current)!=null&&T.value?(a(t,(B=w.current)==null?void 0:B.value,e),d(!1)):((U=w.current)==null?void 0:U.value)===""&&o(t,e))},S=$=>$==="---";return s("div",{class:"rounded-1 p-2 bg-primary flex-column cursor-grab drop-shadow pattern-hiding-child hover-bg-card-item",draggable:!0,onDragEnd:l,onDragStart:c,onDrop:u,"data-card-id":t,"data-list-id":e,"data-pos":n,children:[s("div",{class:"flex-row relative",children:[s("div",{class:"f-1 overflow-x-hidden",children:h?s("textarea",{class:"w-full borader-none rounded-1 p-2 resize-none text-medium font-sans-serif",onBlur:k,oncompositionstart:p,oncompositionend:C,onKeyDown:E,ref:w,children:r}):s(z,{children:S(r)?s("button",{class:"w-full h-4 bg-transparent border-none px-2",onClick:_,children:s("hr",{class:"border-solid border-1 border-color-primary"})}):s("div",{class:"overflow-wrap-break-word",onClick:_,children:r})})}),!S(r)&&!h&&s("div",{class:"pattern-hidden-child absolute r-0",children:s("button",{class:"h-6 w-6 border-none text-secondary px-1",type:"button",onClick:g,children:"○"})})]}),i&&s("div",{class:"h-6 text-secondary",children:s("span",{class:"px-1",title:"This card has a description.",children:"≡"})})]})}function Mt({cards:t,listId:e,isDragEnterCardFromTheOther:r,updateCardName:n,deleteCard:i,handleDragEndCard:o,handleDragEnterCard:a,handleDragStartCard:l,handleDropOnCard:c,handleDropOnSpacer:u}){return s("div",{class:"layout-stack-2 pattern-height-card-list overflow-y-auto pattern-scrollbar-thin",onDragEnter:a,"data-list-id":e,children:[t.length===0?s("div",{class:"h-4"}):t.map((h,d)=>s(Ht,{id:h.id,listId:e,name:h.name,pos:d===0?"first":d===t.length-1?"last":"middle",hasDescription:h.description!=="",deleteCard:i,updateCardName:n,handleDragEnd:o,handleDragStart:l,handleDrop:c},h.id)),r&&s("div",{class:"h-8","data-list-id":e,"data-spacer":!0,onDrop:u})]})}const Rt=t=>{var e,r;t==="dark"?(e=document.firstElementChild)==null||e.classList.add("dark"):(r=document.firstElementChild)==null||r.classList.remove("dark")},_n=()=>{const t="theme",e=localStorage.getItem(t);return e?e||"light":window.matchMedia("(preferes-color-scheme: dark)").matches?"dark":"light"},vn=t=>{localStorage.setItem("theme",t)},_t=t=>{const r=new Date().getTime()-new Date(t).getTime(),n=new Intl.RelativeTimeFormat("en");let i;return r<1e3*10?i="now":r<1e3*60?i=n.format(-Math.floor(r/1e3),"second"):r<1e3*60*60?i=n.format(-Math.floor(r/(1e3*60)),"minute"):r<1e3*60*60*24?i=n.format(-Math.floor(r/(1e3*60*60)),"hour"):i=n.format(-Math.floor(r/(1e3*60*60*24)),"day"),i};function vt({appState:t,boardId:e,cardId:r}){const[n,i]=A(void 0),[o,a]=A(void 0),[l,c]=A(void 0),u=M(null),[h,d]=A(void 0),[v,f]=A(!!r),w=new be,b=new ge(w),[y,k]=A(void 0),[_,g]=A(void 0),[p,C]=A(!1),[E,S]=A(!1),$=M(null),T=M(null),[,B]=At();j(()=>{f(!!r)},[r]),j(()=>{v&&r?(k(b.findCardFromBoard(t.value,r,e)),g(b.findCardListIdFromBoard(t.value,r,e))):(k(void 0),g(void 0))},[v]);const U=m=>{t.value=m},K=()=>{var m;if(S(!1),(m=T.current)!=null&&m.value&&y&&_){const x=b.updateCardDescription(t.value,y.id,T.current.value,e,_);U(x),k(b.findCardFromBoard(t.value,y.id,e))}},Yt=()=>{C(!1)},Zt=m=>{const{cardId:x,listId:L}=m.currentTarget.dataset;if(x&&L&&e){const H=b.deleteCard(t.value,x,e,L);U(H),B(`/board/${e}`)}},Qt=(m,x)=>{const L=b.deleteCard(t.value,m,e,x);U(L)},Xt=m=>{const{listId:x}=m.currentTarget.dataset;if(x&&e){const L=b.deleteCardsByList(t.value,x,e);U(L)}},er=m=>{const{listId:x}=m.currentTarget.dataset;if(x&&e){const L=b.deleteList(t.value,x,e);U(L)}},tr=()=>{S(!0),setTimeout(()=>{var m;(m=T.current)==null||m.focus()},100)},rr=()=>{C(!0),setTimeout(()=>{var m;(m=$.current)==null||m.focus()},100)},nr=()=>{f(!1),B(`/board/${e}`)},ir=m=>m.preventDefault(),or=()=>{i(void 0),a(void 0)},sr=m=>{m.dataTransfer&&(m.dataTransfer.effectAllowed="move");const{cardId:x,listId:L}=m.currentTarget.dataset;i(x),a(L)},ar=m=>{const{cardId:x,listId:L,pos:H}=m.currentTarget.dataset;H&&x&&L&&e&&pr(H,x,e,L)},dr=m=>{const{listId:x,listPos:L}=m.currentTarget.dataset;if(e){if(n&&o&&x){const H=b.moveCardToAnotherList(t.value,n,e,o,x);U(H)}else if(!n&&l&&x){const H=b.moveList(t.value,l,e,x,L);U(H)}}},lr=m=>{const{listId:x,spacer:L}=m.currentTarget.dataset;if(x&&L&&n&&e&&o){const H=b.moveCardToLastOfAnotherList(t.value,n,e,o,x);U(H)}},cr=()=>{c(void 0)},ur=m=>{m.dataTransfer&&(m.dataTransfer.effectAllowed="move");const{listId:x}=m.currentTarget.dataset;x&&c(x)},hr=(m,x)=>{const L=b.updateListName(t.value,x,e,m);U(L)},fr=m=>{const x=b.createCard(t.value,m.cardName,e,m.listId);U(x)},pr=(m,x,L,H)=>{if(n&&o){const xr=b.moveCard(t.value,n,L,o,m,x,L,H);U(xr)}},_r=(m,x,L)=>{const H=b.updateCardName(t.value,m,x,e,L);U(H)},vr=m=>{const x=b.deleteBoard(t.value,m);U(x)},mr=(m,x)=>{const L=b.updateBoardName(t.value,x,m);U(L)},yr=m=>{if(m.preventDefault(),u.current){const x=b.createList(t.value,u.current.value,e);U(x),u.current.value=""}},gr=m=>{const{listId:x}=m.currentTarget.dataset;d(x)},br=m=>{var x;if(m.preventDefault(),(x=$.current)!=null&&x.value&&y&&_){const L=b.updateCardName(t.value,y.id,$.current.value,e,_);U(L),C(!1),k(b.findCardFromBoard(t.value,y.id,e))}},Y=t.value.boards.find(m=>m.id===e);return s("div",{class:"flex-column h-full",children:[Y&&s("div",{class:"px-3",children:s(Oe,{id:Y.id,name:Y.name,updateBoardName:mr,deleteBoard:vr})}),s("div",{class:"f-1 flex-row layout-stack-horizontal-4 overflow-x-auto px-3 pattern-scrollbar-thick",children:[Y&&Y.lists.map((m,x)=>s("div",{class:"flex-column",children:s("div",{class:"w-64 p-3 bg-secondary rounded-2 layout-stack-3 drop-shadow",draggable:!0,onDrop:dr,onDragOver:ir,onDragEnd:cr,onDragStart:ur,"data-list-id":m.id,"data-list-pos":x===0?"first":x===Y.lists.length-1?"last":"middle",children:[s(Ft,{id:m.id,name:m.name,cardsNum:m.cards.length,updateListName:hr,handleClickDeleteCards:Xt,handleClickDeleteList:er}),s(It,{listId:m.id,addCard:fr}),s(Mt,{cards:m.cards,listId:m.id,isDragEnterCardFromTheOther:!!o&&m.id!==o&&m.id===h,updateCardName:_r,deleteCard:Qt,handleDragEndCard:or,handleDragEnterCard:gr,handleDragStartCard:sr,handleDropOnCard:ar,handleDropOnSpacer:lr})]})})),s("div",{class:"py-3",children:s("form",{onSubmit:yr,children:s("div",{class:"border-1 border-solid border-color-primary inline-block",children:s("label",{class:"flex-row divide-solid divide-x-1 divide-color-primary",children:[s("div",{class:"w-6 text-center text-secondary flex-column bg-primary",children:s("span",{class:"m-auto",children:"+"})}),s("input",{class:"h-6 px-2 border-none",type:"text",placeholder:"Enter list title...",ref:u})]})})})})]}),v&&y&&_&&s("div",{class:"pattern-mask",onClick:nr}),v&&y&&_&&s("dialog",{open:!0,class:"layout-center w-full flex-column p-8 border-solid border-1 border-color-primary layout-stack-4 bg-primary mt-24",children:[s("div",{class:"flex-row",children:[s("div",{class:"text-large f-1",children:p?s("form",{onSubmit:br,children:s("input",{class:"h-8 w-full border-solid border-1 border-color-primary text-large",type:"text",ref:$,onBlur:Yt,value:y.name})}):s("div",{onClick:rr,children:y.name})}),s("div",{class:"",children:s("details",{class:"pattern-dropdown",children:[s("summary",{class:"w-6 h-6 flex-column cursor-pointer hover",children:s("div",{class:"m-auto text-secondary",children:"..."})}),s("div",{class:"border-solid border-1 border-color-primary py-2 bg-primary drop-shadow",children:s("ul",{class:"list-style-none p-0 m-0 text-secondary",children:s("li",{class:"h-8",children:s("button",{class:"w-full text-left px-4 py-2 cursor-pointer border-none bg-primary hover nowrap text-secondary",type:"button",onClick:Zt,"data-card-id":y.id,"data-list-id":_,children:"Delete"})})})})]})})]}),s("div",{class:"f-1",children:E?s("textarea",{class:"border-solid border-1 border-color-primary w-full text-medium font-sans-serif",rows:4,ref:T,onBlur:K,children:y.description}):s("div",{onClick:tr,class:"font-sans-serif overflow-x-hidden overflow-wrap-break-word pre-wrap text-secondary",children:y.description===""?"No description":y.description})}),s("div",{class:"text-right layout-stack-2",children:[s("div",{class:"text-tertiary text-small",children:s("span",{children:["Created: ",_t(y.createdAt)]})}),s("div",{class:"text-tertiary text-small",children:s("span",{children:["Updated: ",_t(y.updatedAt)]})})]})]})]})}function Ve({text:t,onClick:e}){return s("button",{class:"px-2 py-1 border-none text-secondary cursor-pointer",type:"button",onClick:e,children:t})}function jt({theme:t}){const e=()=>{t.value==="light"?t.value="dark":t.value="light",Rt(t.value),vn(t.value)};return s("div",{class:"h-12 p-3 flex-row bg-primary border-0 border-b-1 border-solid border-color-primary",children:[s("div",{class:"f-1 h-6"}),s("div",{class:"w-36 h-6",children:s(Ne,{href:"/",class:"text-decoration-none h-6",children:s("h1",{class:"m-0 h-6 text-center text-medium text-primary font-weight-600 hover-bg-link cursor-pointer",children:"CALL of DUTY"})})}),s("div",{class:"f-1 h-6 text-right",children:s("div",{class:"layout-stack-horizontal-1",children:[s(Ne,{href:"/todo",class:"text-decoration-none text-secondary text-small hover px-2 py-1",children:"Todo"}),s(Ve,{text:t.value==="light"?"Light":"Dark",onClick:e})]})})]})}const mn="0.0.1";function zt(){return s("div",{class:"h-6 text-small p-1 bg-primary border-solid border-0 border-t-1 border-color-primary flex-row",children:[s("div",{class:"f-1"}),s("div",{class:"text-center layout-stack-horizontal-4",children:[s("a",{class:"text-decoration-none text-secondary hover-bg-link px-2",href:"https://anupjha.com",children:"© 2023 Anup Jha"}),s("a",{class:"text-decoration-none text-secondary hover-bg-link px-2",href:"https://github.com/anupjha/call-of-duty-v2",children:"GitHub"})]}),s("div",{class:"f-1 text-right",children:s("span",{class:"font-mono text-secondary",children:["v",mn]})})]})}function we(){throw new Error("Cycle detected")}var yn=Symbol.for("preact-signals");function We(){if(Z>1)Z--;else{for(var t,e=!1;ne!==void 0;){var r=ne;for(ne=void 0,Ae++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&Wt(r))try{r.c()}catch(i){e||(t=i,e=!0)}r=n}}if(Ae=0,Z--,e)throw t}}var O=void 0,ne=void 0,Z=0,Ae=0,ve=0;function Vt(t){if(O!==void 0){var e=t.n;if(e===void 0||e.t!==O)return e={i:0,S:t,p:O.s,n:void 0,t:O,e:void 0,x:void 0,r:e},O.s!==void 0&&(O.s.n=e),O.s=e,t.n=e,32&O.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=O.s,e.n=void 0,O.s.n=e,O.s=e),e}}function I(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}I.prototype.brand=yn;I.prototype.h=function(){return!0};I.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};I.prototype.U=function(t){if(this.t!==void 0){var e=t.e,r=t.x;e!==void 0&&(e.x=r,t.e=void 0),r!==void 0&&(r.e=e,t.x=void 0),t===this.t&&(this.t=r)}};I.prototype.subscribe=function(t){var e=this;return Ge(function(){var r=e.value,n=32&this.f;this.f&=-33;try{t(r)}finally{this.f|=n}})};I.prototype.valueOf=function(){return this.value};I.prototype.toString=function(){return this.value+""};I.prototype.toJSON=function(){return this.value};I.prototype.peek=function(){return this.v};Object.defineProperty(I.prototype,"value",{get:function(){var t=Vt(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(O instanceof W&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){Ae>100&&we(),this.v=t,this.i++,ve++,Z++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{We()}}}});function oe(t){return new I(t)}function Wt(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Kt(t){for(var e=t.s;e!==void 0;e=e.n){var r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function Gt(t){for(var e=t.s,r=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):r=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}t.s=r}function W(t){I.call(this,void 0),this.x=t,this.s=void 0,this.g=ve-1,this.f=4}(W.prototype=new I).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===ve))return!0;if(this.g=ve,this.f|=1,this.i>0&&!Wt(this))return this.f&=-2,!0;var t=O;try{Kt(this),O=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return O=t,Gt(this),this.f&=-2,!0};W.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}I.prototype.S.call(this,t)};W.prototype.U=function(t){if(this.t!==void 0&&(I.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};W.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};W.prototype.peek=function(){if(this.h()||we(),16&this.f)throw this.v;return this.v};Object.defineProperty(W.prototype,"value",{get:function(){1&this.f&&we();var t=Vt(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function gn(t){return new W(t)}function Jt(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Z++;var r=O;O=void 0;try{e()}catch(n){throw t.f&=-2,t.f|=8,Ke(t),n}finally{O=r,We()}}}function Ke(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,Jt(t)}function bn(t){if(O!==this)throw new Error("Out-of-order effect");Gt(this),O=t,this.f&=-2,8&this.f&&Ke(this),We()}function de(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}de.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};de.prototype.S=function(){1&this.f&&we(),this.f|=1,this.f&=-9,Jt(this),Kt(this),Z++;var t=O;return O=this,bn.bind(this,t)};de.prototype.N=function(){2&this.f||(this.f|=2,this.o=ne,ne=this)};de.prototype.d=function(){this.f|=8,1&this.f||Ke(this)};function Ge(t){var e=new de(t);try{e.c()}catch(r){throw e.d(),r}return e.d.bind(e)}var Se;function X(t,e){D[t]=e.bind(null,D[t]||function(){})}function me(t){Se&&Se(),Se=t&&t.S()}function qt(t){var e=this,r=t.data,n=wn(r);n.value=r;var i=Fe(function(){for(var o=e.__v;o=o.__;)if(o.__c){o.__c.__$f|=4;break}return e.__$u.c=function(){var a;!Ue(i.peek())&&((a=e.base)==null?void 0:a.nodeType)===3?e.base.data=i.peek():(e.__$f|=1,e.setState({}))},gn(function(){var a=n.value.value;return a===0?0:a===!0?"":a||""})},[]);return i.value}qt.displayName="_st";Object.defineProperties(I.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:qt},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});X("__b",function(t,e){if(typeof e.type=="string"){var r,n=e.props;for(var i in n)if(i!=="children"){var o=n[i];o instanceof I&&(r||(e.__np=r={}),r[i]=o,n[i]=o.peek())}}t(e)});X("__r",function(t,e){me();var r,n=e.__c;n&&(n.__$f&=-2,(r=n.__$u)===void 0&&(n.__$u=r=function(i){var o;return Ge(function(){o=this}),o.c=function(){n.__$f|=1,n.setState({})},o}())),me(r),t(e)});X("__e",function(t,e,r,n){me(),t(e,r,n)});X("diffed",function(t,e){me();var r;if(typeof e.type=="string"&&(r=e.__e)){var n=e.__np,i=e.props;if(n){var o=r.U;if(o)for(var a in o){var l=o[a];l!==void 0&&!(a in n)&&(l.d(),o[a]=void 0)}else r.U=o={};for(var c in n){var u=o[c],h=n[c];u===void 0?(u=xn(r,c,h,i),o[c]=u):u.o(h,i)}}}t(e)});function xn(t,e,r,n){var i=e in t&&t.ownerSVGElement===void 0,o=oe(r);return{o:function(a,l){o.value=a,n=l},d:Ge(function(){var a=o.value.value;n[e]!==a&&(n[e]=a,i?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}X("unmount",function(t,e){if(typeof e.type=="string"){var r=e.__e;if(r){var n=r.U;if(n){r.U=void 0;for(var i in n){var o=n[i];o&&o.d()}}}}else{var a=e.__c;if(a){var l=a.__$u;l&&(a.__$u=void 0,l.d())}}t(e)});X("__h",function(t,e,r,n){(n<3||n===9)&&(e.__$f|=2),t(e,r,n)});re.prototype.shouldComponentUpdate=function(t,e){var r=this.__$u;if(!(r&&r.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var n in e)return!0;for(var i in t)if(i!=="__source"&&t[i]!==this.props[i])return!0;for(var o in this.props)if(!(o in t))return!0;return!1};function wn(t){return Fe(function(){return oe(t)},[])}function Dn(){const t={id:F(),name:"Board 1",lists:[]},e={id:F(),name:"Board 2",lists:[]},r={id:F(),name:"Board 3",lists:[]},n=[t,e,r],i=new Date().toISOString(),o={id:F(),name:"Card 1",description:"",createdAt:i,updatedAt:i},a={id:F(),name:"Card 2",description:"",createdAt:i,updatedAt:i},l={id:F(),name:"Card 3",description:"",createdAt:i,updatedAt:i},c=[o,a,l],u={id:F(),name:"List 1",cards:c};return s("div",{class:"layout-stack-4 p-6",children:[s("div",{children:s("h2",{children:"Components"})}),s("div",{class:"layout-stack-4",children:[s("div",{class:"layout-stack-2",children:[s("h3",{children:"AppButton"}),s("div",{children:s(Ve,{text:"Button",onClick:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"BoardHeader"}),s("div",{children:s(Oe,{id:t.id,name:t.name,updateBoardName:()=>{},deleteBoard:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"BoardItem"}),s("div",{children:s(Ut,{board:t,pos:"first",cardsNum:8,handleDragEnd:()=>{},handleDragOver:()=>{},handleDragStart:()=>{},handleDrop:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"BoardList"}),s("div",{children:s(Bt,{boards:n,handleDragEnd:()=>{},handleDragOver:()=>{},handleDragStart:()=>{},handleDrop:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h2",{children:"BoardHeader"}),s("div",{children:s(Oe,{id:t.id,name:t.name,updateBoardName:()=>{},deleteBoard:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"CardForm"}),s("div",{children:s(It,{listId:"list1",addCard:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"CardItem"}),s("div",{children:s(Ht,{id:"card1",listId:"list1",name:"Card 1",pos:"first",hasDescription:!0,deleteCard:()=>{},updateCardName:()=>{},handleDragEnd:()=>{},handleDragStart:()=>{},handleDrop:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"CardList"}),s("div",{children:s(Mt,{cards:c,listId:u.id,isDragEnterCardFromTheOther:!1,deleteCard:()=>{},updateCardName:()=>{},handleDragEndCard:()=>{},handleDragEnterCard:()=>{},handleDragStartCard:()=>{},handleDropOnCard:()=>{},handleDropOnSpacer:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"ListHeader"}),s("div",{children:s(Ft,{id:u.id,name:u.name,cardsNum:0,updateListName:()=>{},handleClickDeleteList:()=>{},handleClickDeleteCards:()=>{}})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"TheNavBar"}),s("div",{children:s(jt,{theme:oe("light")})})]}),s("div",{class:"layout-stack-2",children:[s("h3",{children:"TheFooter"}),s("div",{children:s(zt,{})})]})]})]})}const ue=(t,e)=>{const r=new Date().toISOString();return[...Array(e-t+1).keys()].map(n=>({id:F(),name:`Card ${t+n}`,description:"",createdAt:r,updatedAt:r}))};function Cn({appState:t}){const e=()=>{const r=new be,n=new ge(r),i={boards:[{id:F(),name:"Board 1",lists:[{id:F(),name:"List 1",cards:ue(1,20)},{id:F(),name:"List 2",cards:ue(21,25)},{id:F(),name:"List 3",cards:ue(26,45)},{id:F(),name:"List 4",cards:ue(46,52)}]}]};n.import(t.value,i)};return s("div",{class:"layout-center",children:s("div",{class:"p-4",children:s("div",{class:"layout-stack-4",children:[s("h2",{children:"Debug"}),s("div",{class:"layout-stack-4",children:s(Ve,{text:"Create sample data",onClick:e})})]})})})}function kn(){const t=oe({boards:[]}),e=oe(_n());return{appState:t,appTheme:e}}function Sn(){return s("div",{class:"layout-center",children:s("div",{class:"p-4",children:s("div",{class:"layout-stack-4",children:s("h2",{children:"Sandbox"})})})})}const{appState:ee,appTheme:mt}=kn();function En(){const t=new be,e=new ge(t);return j(()=>{const r=e.load();r&&(ee.value=r),Rt(mt.value)},[]),s(z,{children:[s(jt,{theme:mt}),s("div",{class:"f-1 overflow-y-auto pattern-scrollbar-thick bg-primary",children:[s(G,{path:"/",children:s(sn,{appState:ee})}),s(G,{path:"/todo",children:s(pn,{})}),s(G,{path:"/board/:boardId",children:r=>s(vt,{appState:ee,boardId:r.boardId})}),s(G,{path:"/board/:boardId/card/:cardId",children:r=>s(vt,{appState:ee,boardId:r.boardId,cardId:r.cardId})}),s(G,{path:"/components",children:s(Dn,{})}),s(G,{path:"/debug",children:s(Cn,{appState:ee})}),s(G,{path:"/sandbox",children:s(Sn,{})})]}),s(zt,{})]})}Tr(s(En,{}),document.getElementById("app"));
